---
import Icon from "../astro/Icon.astro";
import Video from "../Video.astro";

interface Props {
  title: string;
  subtitle?: string;
  buttonText?: string;
  url?: string;
  videoSRC?: string;
}

const {
  title,
  subtitle,
  buttonText = "Discover more",
  url = "#",
  videoSRC,
} = Astro.props;
---

<section id="hero-brick_1">
  <div class="hero-video-brick">
    <!-- surrounding A element -->
    <a class="hero-video-brick__anchor-link" href={url}>
      <!--video-->
      <!-- <video muted="" loop="" playsinline="" autoplay="">
        <source
          src="https://assets.studio-henk.nl/assets/Images/home/tmp-off/studio-henk-trace-buitencollectie.mp4"
          type="video/mp4"
        />
        Sorry, your browser doesn't support embedded videos.
      </video> -->
      <Video src={videoSRC} />
      <div class="hero-video-brick__overlay">
        <div class="hero-video-brick__content">
          <header class="hero-video-brick__header">
            <p class="hero-video-brick__header-subtitle .sh-subtitle">
              {subtitle}
            </p>
            <p class="hero-video-brick__header-title sh-title">{title}</p>
          </header>
          <!-- <main class="hero-video-brick__body"></main> -->
          <footer class="hero-video-brick__footer">
            <!--button type selector -->
            <span
              class="sh-atom-button"
              data-style="filled"
              data-icon-arrow-right="true"
            >
              {buttonText}
              <Icon name="icon-arrow-right-animated" />
            </span>
          </footer>
        </div>
      </div>
    </a>
  </div>
  <script>
    /*
        const setVideoHeight = {

            init: function() {
                let msgBarHeight = document.querySelector("#msg-covid").clientHeight;
                let navBarHeight = document.querySelector("section.navigation").clientHeight;
                let sumHeight = msgBarHeight + navBarHeight;
                // calc will be 100vh - sumheight
                let allVideos = document.querySelectorAll(".hero-video-brick video");
                console.log(allVideos);
                allVideos.forEach((element) => {
                    element.style.height = "calc(100vh - " + sumHeight + "px)";
                });
            }
        };
*/

    /*document.addEventListener("DOMContentLoaded", function() {
            setVideoHeight.init();
        });*/
    /*window.addEventListener("resize", function() {
            setVideoHeight.init();
        });*/
  </script>
</section>
