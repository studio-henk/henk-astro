---
import Icon from "../astro/Icon.astro";

const { title = "Title here!", swiperID } = Astro.props;
---

<section id="block_1" class="SliderBrickVariantA">
  <div class="SliderBrickVariantA__HeadingContainer">
    <h2 class="SliderBrickVariantA__Heading">{title}</h2>
  </div>

  <!-- slider -->
  <div class="swiper" data-swiper-id="2">
    <!-- Additional required wrapper -->
    <div class="swiper-wrapper">
      <div class="swiper-slide">
        <a href="/en/products/dining-tables">
          <picture>
            <img
              src="/images/sliderbrick/tables.jpg"
              alt="image of dining tables"
              loading="eager"
              width="1380"
              height="1728"
            />
          </picture>
          <div class="item__content">
            <p class="item__title">Dining tables</p>
          </div>
        </a>
      </div>

      <div class="swiper-slide">
        <a href="/en/products/dining-tables">
          <picture>
            <img
              src="/images/sliderbrick/chairs.jpg"
              alt="image of dining chairs"
              loading="eager"
              width="1380"
              height="1728"
            />
          </picture>
          <div class="item__content">
            <p class="item__title">Chairs</p>
          </div>
        </a>
      </div>

      <div class="swiper-slide">
        <a href="/en/products/dining-tables">
          <picture>
            <img
              src="/images/sliderbrick/coffee-tables.jpg"
              alt="image of dining tables"
              loading="eager"
              width="1380"
              height="1728"
            />
          </picture>
          <div class="item__content">
            <p class="item__title">Coffee tables</p>
          </div>
        </a>
      </div>
    </div>

    <!-- If we need pagination -->
    <div class="swiper-pagination"></div>

    <!-- If we need navigation buttons -->
    <div
      class={`sh-custom-swiper-button-prev swiper-button-prev2 sh-atom-button`}
      data-style="soft"
      data-shape="circle"
      data-size="large"
      tabindex="0"
      role="button"
    >
      <Icon class="sh-atom-icon" name="icon-chevron-left" />
    </div>
    <div
      class={`sh-custom-swiper-button-next swiper-button-next2 sh-atom-button`}
      data-style="soft"
      data-shape="circle"
      data-size="large"
      tabindex="0"
      role="button"
    >
      <Icon class="sh-atom-icon" name="icon-chevron-right" />
    </div>

    <!-- If we need scrollbar -->
    <div class="swiper-scrollbar"></div>
    <span class="swiper-notification" aria-live="assertive" aria-atomic="true"
    ></span>

    <div class="button-group" data-alignment="center">
      <a class="sh-atom-button" href="/en/collection" data-style="soft">
        View all
      </a>
    </div>

    <link
      href="/static/std/assets/toolkit/styles/swiper-bundle.min.css"
      media="screen"
      rel="stylesheet"
      type="text/css"
    />
    <script
      is:inline
      src="/static/std/assets/toolkit/scripts/swiper-bundle.min.js"
    ></script>

    <script is:inline>
      // const swiperID = this.dataset.swiper.id;
      // console.log(swiperID);
      const swiper2 = new Swiper('[data-swiper-id="2"]', {
        on: {
          init: function () {
            // hide prev button for this swiper
            const thisPrevButton = document.querySelector(
              ".swiper-button-prev2"
            );
            thisPrevButton.style.display = "none";
          },
          afterInit: function () {
            //console.log('afterInit');
          },
        },
        // Optional parameters
        direction: "horizontal",
        loop: true,
        slidesPerView: 1.2,
        initialSlide: 0,
        spaceBetween: 24,
        speed: 300,
        grabCursor: true,
        //centeredSlides: true

        //If we need pagination
        // pagination: {
        //   el: ".swiper-pagination"
        // },
        pagination: false,

        // Navigation arrows
        navigation: false,

        // And if we need scrollbar
        // scrollbar: {
        //   el: '.swiper-scrollbar',
        // },
        breakpoints: {
          768: {
            slidesPerView: 2.2,
            pagination: false,
            navigation: {
              nextEl: ".swiper-button-next2",
              prevEl: ".swiper-button-prev2",
            },
          },
          992: {
            slidesPerView: 3.2,
            pagination: false,
            navigation: {
              nextEl: ".swiper-button-next2",
              prevEl: ".swiper-button-prev2",
            },
          },
          1440: {
            slidesPerView: 4.2,
            //slidesPerGroup: 4,
            initialSlide: 0,
            pagination: false,
            navigation: {
              nextEl: ".swiper-button-next2",
              prevEl: ".swiper-button-prev2",
            },
          },
        },
      });
      swiper2.on("slideChange", function () {
        // on the first slide
        if (swiper2.realIndex === 0) {
        }
        // most right position
        else if (swiper2.realIndex === swiper2.slides.length - 1) {
          // show prev button
          const thisPrevButton = document.querySelector(".swiper-button-prev2");
          thisPrevButton.style.display = "flex";
        }
        // middle positions
        else {
          // show prev button
          const thisPrevButton = document.querySelector(".swiper-button-prev2");
          thisPrevButton.style.display = "flex";
        }
      });
    </script>
  </div>
</section>
