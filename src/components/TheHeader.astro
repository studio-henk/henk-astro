---
import TheHeaderMobile from "./TheHeaderMobile.astro";
import TheHeaderDesktop from "./TheHeaderDesktop.astro";
const { NavFont = "new", NavTheme, NavOnHero } = Astro.props;
---

<TheHeaderMobile NavFont={NavFont} NavTheme={NavTheme} NavOnHero={NavOnHero} />
<TheHeaderDesktop NavFont={NavFont} NavTheme={NavTheme} NavOnHero={NavOnHero} />
<script>
    const htmlElement = document.documentElement;
    const isTouchDevice = htmlElement.classList.contains("touchevents");
    const mastheadMobile = document.querySelector(".masthead-mobile");
    const mastheadDesktop = document.querySelector(".masthead-desktop");
    const masthead = document.querySelector(".masthead");

    const NavBarHeroMobile = mastheadMobile.getAttribute('data-hashero');
    const NavBarHeroDesktop = mastheadDesktop.getAttribute('data-hashero');

    if (isTouchDevice) {
        if (NavBarHeroMobile === false || NavBarHeroMobile === null) {
            document.body.style.paddingTop = mastheadMobile.clientHeight + "px";
        }
    } else {
        if (NavBarHeroDesktop === false || NavBarHeroDesktop === null) {
            document.body.style.paddingTop = mastheadDesktop.clientHeight + "px";
        }
    }

    // checking if doc has scrolled
    let observer = new IntersectionObserver(entries => {
        if (entries[0].boundingClientRect.y < 0) {
            mastheadMobile.classList.add("--status-scrolled");
            mastheadDesktop.classList.add("--status-scrolled");
        } else {
            mastheadMobile.classList.remove("--status-scrolled");
            mastheadDesktop.classList.remove("--status-scrolled");
        }
    });
    observer.observe(document.querySelector("#pixel-to-watch"));
</script>
<script slot="head-scripts" src="/src/components/custom-elements/LangSwitch.js" type="module"></script>